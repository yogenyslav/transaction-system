Нужно реализовать транзакционную систему.
- Invoice -> человеку зачисляются средства по ручке "/invoice" с такими параметрами в теле, как код валюты ("USDT", "RUB", "EUR", etc.), количество средств (число с плавающей точкой), номер кошелька или карты.
- Withdraw -> человек выводит средства со своего баланса по валюте, которую он выбрал по ручке "/withdraw" с такими параметрами в теле, как код валюты, количество средств, номер кошелька или карты куда зачисляются средства.
- В транзакционной системе должны быть статусы транзакции ("Error", "Success", "Created"). Статусы "Error" и "Success" должны быть финальными.
- Должна быть реализована ручка по получению актуального и замороженного баланса клиентов. Актуальный баланс это тот баланс, который можно вывести. Замороженный баланс - это тот баланс, который, находится в ожидании (со статусом "Created").
- Рекомендуется использовать Kafka/RabbitMQ как брокер сообщений.
- База данных должны быть PostgreSQL.
- Баланс клиента не может уйти ниже нуля.